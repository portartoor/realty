{"version":3,"file":"script.min.js","sources":["script.js"],"names":["BX","CrmEntityLiveFeedActivityList","this","_prefix","_activityEditor","_items","prototype","initialize","id","settings","_id","_settings","getSetting","activityEditorId","type","isNotEmptyString","CrmActivityEditor","items","activityWrapper","_resolveElement","data","i","length","itemData","itemId","parseInt","activityContainer","findChild","attribute","data-entity-id","toString","CrmEntityLiveFeedActivity","create","activityEditor","container","clientTemplate","referenceTemplate","params","CrmParamBag","name","defaultVal","hasOwnProperty","setSetting","val","elementId","self","_container","_completeButton","_subjectElem","_timeElem","_responsibleElem","_params","_enableExternalChange","addActivityChangeHandler","delegate","_onExternalChange","className","bind","_onCompleteButtonClick","_onTitleClick","_bindingElem","getId","isCompleted","getBooleanParam","setCompleted","completed","setActivityCompleted","_onComplete","layout","classOnly","typeId","getIntParam","direction","containerClassName","CrmActivityType","call","CrmActivityDirection","incoming","meeting","task","removeClass","addClass","now","Date","time","parseDate","getParam","innerHTML","util","htmlspecialchars","checked","trimDateTimeString","date","format","getDateTimeFormat","clientTitle","clientInfo","replace","ownerType","ownerTitle","referenceInfo","bindingHtml","e","isBoolean","setParam","viewActivity","PreventDefault","sender","action","isArray","comms","comm","entityType"],"mappings":"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"}