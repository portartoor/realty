{"version":3,"file":"configurator.min.js","sources":["configurator.js"],"names":["CrmAdsRetargeting","params","this","containerId","provider","TYPE","context","onRequest","mess","destroyEventName","BX","addCustomEvent","window","proxy","unbindAll","cleanInstances","accountId","audienceId","autoRemoveDayNumber","actionRequestUrl","hasAudiences","loaded","init","showBlockByAuth","prototype","instances","i","len","length","removeCustomEvent","onSeoAuth","push","containerNode","create","id","insertTemplateIntoNode","uiNodes","avatar","querySelector","name","link","logout","account","accountLoader","audience","errorNotFound","refreshButton","createLinks","convert","nodeListToArray","querySelectorAll","autoRemover","node","checker","select","attrAudience","attrAudienceLoader","attrAudienceChecker","audiences","forEach","audienceNode","audienceType","getAttribute","checkerNode","type","loader","bind","disabled","options","checked","createLink","showBlockRefresh","getProvider","listenSeoAuth","HAS_AUTH","showBlockMain","showBlockLogin","eventData","reload","showBlock","request","delegate","blockCodes","isArray","attributeBlock","blockNodes","blockNode","code","isShow","util","in_array","style","display","PROFILE","PICTURE","innerText","NAME","href","LINK","loadSettings","templateCode","parentNode","isAppend","defaultTemplateId","templateId","templateNode","temporaryContainerNode","innerHTML","childList","children","child","appendChild","onResponse","response","callback","errors","apply","data","action","requestData","sendActionRequest","callbackSuccess","callbackFailure","showErrorPopup","sessid","bitrix_sessid","ajax","url","method","timeout","dataType","processData","onsuccess","error","onfailure","text","errorAction","popup","PopupWindowManager","autoHide","lightShadow","closeByEsc","overlay","backgroundColor","opacity","setButtons","PopupWindowButton","dlgBtnClose","events","click","popupWindow","close","setContent","show","caller","change","loaderNode","inputNode","forAccount","forAudience","loadSettingsAudiences","value","loadSettingsAccounts","dropDownData","map","accountData","caption","selected","fillDropDownControl","fireEvent","ShowErrorEmptyAudiences","dropDownDataByType","isSupportMultiTypeContacts","IS_SUPPORT_MULTI_TYPE_CONTACTS","audienceData","dropDownItem","dropDownItemCloned","clone","supportedContactTypes","contactType","hasSelectedItemsOnce","filter","hasItems","hasSelectedItems","item","items","option","document","createElement"],"mappings":"AAAA,SAAU,qBAAwB,YAClC,CACCA,kBAAoB,SAAUC,GAE7BC,KAAKC,YAAcF,EAAOE,aAAe,2BAA6BF,EAAOG,SAASC,IACtFH,MAAKE,SAAWH,EAAOG,QACvBF,MAAKI,QAAUL,EAAOK,OACtBJ,MAAKK,UAAYN,EAAOM,SACxBL,MAAKM,KAAOP,EAAOO,IACnBN,MAAKM,KAAOP,EAAOO,IAEnB,IAAIP,EAAOQ,iBACX,CACCC,GAAGC,eAAeC,OAAQX,EAAOQ,iBAAkBC,GAAGG,MAAM,WAC3DX,KAAKY,WACLZ,MAAKa,kBACHb,OAGJA,KAAKc,UAAYf,EAAOe,SACxBd,MAAKe,WAAahB,EAAOgB,UACzBf,MAAKgB,oBAAsBjB,EAAOiB,mBAClChB,MAAKiB,iBAAmBlB,EAAOkB,gBAE/BjB,MAAKkB,aAAe,KACpBlB,MAAKmB,SACLnB,MAAKoB,MACLpB,MAAKqB,kBAENvB,mBAAmBwB,WAClBC,aACAV,eAAgB,WAEf,IAAK,GAAIW,GAAI,EAAGC,EAAMzB,KAAKuB,UAAUG,OAAQF,EAAIC,EAAKD,IACtD,CACC,IAAKxB,KAAKuB,UAAUC,GACpB,CACC,SAGDxB,KAAKuB,UAAUC,GAAGZ,kBACXZ,MAAKuB,UAAUC,EACtBxB,MAAKuB,UAAUC,GAAK,OAGtBZ,UAAW,WAEVJ,GAAGmB,kBACFjB,OACA,yBACAF,GAAGG,MAAMX,KAAK4B,UAAW5B,QAG3BoB,KAAM,WAELpB,KAAKa,gBACLb,MAAKuB,UAAUM,KAAK7B,KAEpBA,MAAK8B,cAAgBtB,GAAGR,KAAKC,YAC7B,KAAKD,KAAK8B,cACV,CACC9B,KAAK8B,cAAgBtB,GAAGuB,OAAO,MAC/B/B,MAAK8B,cAAcE,GAAKhC,KAAKC,YAG9BD,KAAKiC,uBAAuB,WAAYjC,KAAK8B,cAE7C9B,MAAKkC,SACJC,OAAUnC,KAAK8B,cAAcM,cAAc,6BAC3CC,KAAQrC,KAAK8B,cAAcM,cAAc,2BACzCE,KAAQtC,KAAK8B,cAAcM,cAAc,2BACzCG,OAAUvC,KAAK8B,cAAcM,cAAc,6BAC3CI,QAAWxC,KAAK8B,cAAcM,cAAc,yBAC5CK,cAAiBzC,KAAK8B,cAAcM,cAAc,gCAClDM,YACAC,cAAiB3C,KAAK8B,cAAcM,cAAc,oCAClDQ,cAAiB5C,KAAK8B,cAAcM,cAAc,6BAClDS,YAAerC,GAAGsC,QAAQC,gBACzB/C,KAAK8B,cAAckB,iBAAiB,uCAErCC,aACCC,KAAQlD,KAAK8B,cAAcM,cAAc,sCACzCe,QAAWnD,KAAK8B,cAAcM,cAAc,8CAC5CgB,OAAUpD,KAAK8B,cAAcM,cAAc,8CAI7C,IAAIiB,GAAe,sBACnB,IAAIC,GAAqB,6BACzB,IAAIC,GAAsB,8BAC1B,IAAIC,GAAYxD,KAAK8B,cAAckB,iBAAiB,IAAMK,EAAe,IACzEG,GAAYhD,GAAGsC,QAAQC,gBAAgBS,EACvCA,GAAUC,QAAQ,SAAUC,GAC3B,GAAIC,GAAeD,EAAaE,aAAaP,EAC7C,IAAIQ,GAAc7D,KAAK8B,cAAcM,cAAc,IAAMmB,EAAsB,KAAOI,EAAe,KACrG3D,MAAKkC,QAAQQ,SAASb,MACrBiC,KAAMH,EACNT,KAAMQ,EACNK,OAAQ/D,KAAK8B,cAAcM,cAAc,IAAMkB,EAAqB,KAAOK,EAAe,MAC1FR,QAASU,GAGVrD,IAAGwD,KAAKH,EAAa,SAAU,WAE9BH,EAAaO,SAAWP,EAAaQ,QAAQxC,OAAS,GAEpD1B,KAAKmE,QAEN,QAGAnE,KAGHA,MAAKkC,QAAQW,YAAYY,QAAQ,SAAUW,GAC1C5D,GAAGwD,KAAKI,EAAY,QAAS5D,GAAGG,MAAM,WACrC,IAAKX,KAAKkB,aAAclB,KAAKqE,oBAC3BrE,QACDA,KACHQ,IAAGwD,KAAKhE,KAAKkC,QAAQU,cAAe,QAASpC,GAAGG,MAAM,WACrDX,KAAKsE,eACHtE,MAGH,IAAIA,KAAKkC,QAAQe,YAAYE,QAC7B,CACC3C,GAAGwD,KAAKhE,KAAKkC,QAAQe,YAAYE,QAAS,QAAS3C,GAAGG,MAAM,WAC3D,GAAIsC,GAAcjD,KAAKkC,QAAQe,WAC/BA,GAAYG,OAAOa,UAAYhB,EAAYE,QAAQgB,SACjDnE,OAGJA,KAAK+D,OAAO3C,KAAKpB,KACjBQ,IAAGwD,KAAKhE,KAAKkC,QAAQK,OAAQ,QAAS/B,GAAGG,MAAMX,KAAKuC,OAAQvC,MAC5DA,MAAKuE,iBAENlD,gBAAiB,WAEhB,GAAIrB,KAAKE,SAASsE,SAClB,CACCxE,KAAKyE,oBAGN,CACCzE,KAAK0E,mBAGPH,cAAe,WAEd/D,GAAGC,eACFC,OACA,yBACAF,GAAGG,MAAMX,KAAK4B,UAAW5B,QAG3B4B,UAAW,SAAU+C,GAEpBA,EAAUC,OAAS,KACnB5E,MAAKsE,eAEN/B,OAAQ,WAEPvC,KAAK6E,UAAU,UACf7E,MAAK8E,QAAQ,YAActE,GAAGuE,SAAS,SAAU7E,GAChDF,KAAKE,SAAWA,CAChBF,MAAKqB,mBACHrB,QAEJsE,YAAa,WAEZtE,KAAK6E,UAAU,UACf7E,MAAK8E,QAAQ,iBAAmBtE,GAAGuE,SAAS,SAAU7E,GACrDF,KAAKE,SAAWA,CAChBF,MAAKqB,mBACHrB,QAEJ6E,UAAW,SAAUG,GAEpBA,EAAaxE,GAAGsD,KAAKmB,QAAQD,GAAcA,GAAcA,EACzD,IAAIE,GAAiB,mBACrB,IAAIC,GAAanF,KAAK8B,cAAckB,iBAAiB,IAAMkC,EAAiB,IAC5EC,GAAa3E,GAAGsC,QAAQC,gBAAgBoC,EACxCA,GAAW1B,QAAQ,SAAU2B,GAC5B,GAAIC,GAAOD,EAAUxB,aAAasB,EAClC,IAAII,GAAS9E,GAAG+E,KAAKC,SAASH,EAAML,EACpCI,GAAUK,MAAMC,QAAUJ,EAAS,QAAU,QAC3CtF,OAEJqE,iBAAkB,WAEjBrE,KAAK6E,WAAW,OAAQ,aAEzBH,eAAgB,WAEf1E,KAAK6E,UAAU,UAEhBJ,cAAe,WAEd,GAAIzE,KAAKkC,QAAQC,OACjB,CACCnC,KAAKkC,QAAQC,OAAOsD,MAAM,oBAAsB,OAASzF,KAAKE,SAASyF,QAAQC,QAAU,IAE1F,GAAI5F,KAAKkC,QAAQG,KACjB,CACCrC,KAAKkC,QAAQG,KAAKwD,UAAY7F,KAAKE,SAASyF,QAAQG,KAErD,GAAI9F,KAAKkC,QAAQI,KACjB,CACCtC,KAAKkC,QAAQI,KAAKyD,KAAO/F,KAAKE,SAASyF,QAAQK,KAGhDhG,KAAK6E,WAAW,OAAQ,QAExB7E,MAAKiG,gBAENhE,uBAAwB,SAAUiE,EAAcC,EAAYC,GAC3DA,EAAWA,GAAY,KACvB,IAAIC,GAAoB,wBAA0BH,CAClD,IAAII,GAAaD,EAAoB,IAAMrG,KAAKE,SAASC,IACzD,IAAIoG,GAAe/F,GAAG8F,EACtB,KAAKC,EACL,CACCA,EAAe/F,GAAG6F,GAGnB,GAAIG,GAAyBhG,GAAGuB,OAAO,MACvCyE,GAAuBC,UAAYF,EAAaE,SAEhD,KAAKL,EACL,CACCD,EAAWM,UAAY,GAGxB,GAAIC,GAAYlG,GAAGsC,QAAQC,gBAAgByD,EAAuBG,SAClED,GAAUjD,QAAQ,SAAUmD,GAC3BT,EAAWU,YAAYD,MAGzBE,WAAY,SAAUC,EAAUC,GAE/B,IAAKD,EAASE,QAAUF,EAASE,OAAOvF,QAAU,EAClD,CACCsF,EAASE,MAAMlH,MAAO+G,EAASI,SAGjCrC,QAAS,SAAUsC,EAAQC,EAAaL,GACvCK,EAAYD,OAASA,CACrBC,GAAYvD,KAAO9D,KAAKE,SAASC,IAEjC,IAAIH,KAAKK,UACT,CACCL,KAAKK,UAAU6G,MAAMlH,MAAOqH,EAAa7G,GAAGuE,SAAS,SAAUgC,GAC9D/G,KAAK8G,WAAWC,EAAUC,IACxBhH,YAGJ,CACCA,KAAKsH,kBAAkBF,EAAQC,EAAa,SAASN,GACpD/G,KAAK8G,WAAWC,EAAUC,OAI7BM,kBAAmB,SAAUF,EAAQD,EAAMI,EAAiBC,GAE3DD,EAAkBA,GAAmB,IACrCC,GAAkBA,GAAmBhH,GAAGG,MAAMX,KAAKyH,eAAgBzH,KAEnEmH,GAAOA,GAAQA,CACfA,GAAKO,OAASlH,GAAGmH,eACjBnH,IAAGoH,MACFC,IAAK7H,KAAKiB,iBACV6G,OAAQ,OACRX,KAAMA,EACNY,QAAS,GACTC,SAAU,OACVC,YAAa,KACbC,UAAW1H,GAAGG,MAAM,SAASwG,GAC5BA,EAAOA,KACP,IAAGA,EAAKgB,MACR,CACCX,EAAgBN,MAAMlH,MAAOmH,QAEzB,IAAGI,EACR,CACCA,EAAgBL,MAAMlH,MAAOmH,MAE5BnH,MACHoI,UAAW5H,GAAGG,MAAM,WACnB,GAAIwG,IAAQgB,MAAS,KAAME,KAAQ,GACnCb,GAAgBN,MAAMlH,MAAOmH,KAC3BnH,SAGLyH,eAAgB,SAAUN,GAEzBA,EAAOA,KACP,IAAIkB,GAAOlB,EAAKkB,MAAQrI,KAAKM,KAAKgI,WAClC,IAAIC,GAAQ/H,GAAGgI,mBAAmBzG,OACjC,oBACA,MAEC0G,SAAU,KACVC,YAAa,KACbC,WAAY,KACZC,SAAUC,gBAAiB,QAASC,QAAS,MAG/CP,GAAMQ,YACL,GAAIvI,IAAGwI,mBACNX,KAAMrI,KAAKM,KAAK2I,YAChBC,QAASC,MAAO,WAAWnJ,KAAKoJ,YAAYC,aAG9Cd,GAAMe,WAAW,iDAAmDjB,EAAO,UAC3EE,GAAMgB,QAEPxF,QACC3C,KAAM,SAAUoI,GACfxJ,KAAKwJ,OAASA,GAEfC,OAAQ,SAAUC,EAAYC,EAAWrE,GACxCoE,EAAWjE,MAAMC,QAAUJ,EAAS,GAAK,MACzC,IAAIqE,EACJ,CACCA,EAAU1F,SAAY0F,EAAUzF,QAAQxC,QAAU,GAAK4D,EAAU,KAAO,QAG1EsE,WAAY,SAAUtE,GACrBtF,KAAKyJ,OAAOzJ,KAAKwJ,OAAOtH,QAAQO,cAAezC,KAAKwJ,OAAOtH,QAAQM,QAAS8C,IAE7EuE,YAAa,SAAU/F,EAAMwB,GAC5BtF,KAAKwJ,OAAOtH,QAAQQ,SAASe,QAAQ,SAAUf,GAC9C1C,KAAKyJ,OAAO/G,EAASqB,OAAQrB,EAASQ,KAAMoC,IAC1CtF,KAEH,IAAIA,KAAKwJ,OAAOtH,QAAQe,YAAYC,KACpC,CACClD,KAAKwJ,OAAOtH,QAAQe,YAAYC,KAAKuC,MAAMC,QAAUJ,EAAS,OAAS,MAI1EW,aAAc,WAEb,GAAInC,GAAO9D,KAAKE,SAASC,IAEzB,IAAGK,GAAG+E,KAAKC,SAAS1B,EAAM9D,KAAKmB,QAAS,MACxCnB,MAAKmB,OAAOU,KAAKiC,EAEjB,IAAI9D,KAAKkC,QAAQM,QACjB,CACChC,GAAGwD,KACFhE,KAAKkC,QAAQM,QACb,SACAhC,GAAGuE,SAAS,WACX/E,KAAK8J,sBAAsB9J,KAAKkC,QAAQM,QAAQuH,QAC9C/J,MAEJA,MAAKgK,2BAGN,CACChK,KAAK8J,sBAAsB,QAG7BE,qBAAsB,WAErBhK,KAAK+D,OAAO6F,WAAW,KACvB5J,MAAK8E,QAAQ,iBAAmBtE,GAAGuE,SAAS,SAASoC,GACpD,GAAI8C,GAAe9C,EAAK+C,IAAI,SAAUC,GACrC,OACCC,QAASD,EAAY9H,KACrB0H,MAAOI,EAAYnI,GACnBqI,SAAUF,EAAYnI,IAAMhC,KAAKc,YAEhCd,KAEHA,MAAKsK,oBAAoBtK,KAAKkC,QAAQM,QAASyH,EAC/CjK,MAAK+D,OAAO6F,WAAW,MACvB,IAAIK,EAAavI,OAAS,EAC1B,CACClB,GAAG+J,UAAUvK,KAAKkC,QAAQM,QAAS,cAGpC,CACCxC,KAAKwK,4BAGJxK,QAEJ8J,sBAAuB,SAAShJ,GAE/B,GAAIuG,IACHvG,UAAaA,GAAa,KAE3Bd,MAAK+D,OAAO8F,YAAY,KACxB7J,MAAK8E,QAAQ,eAAgBuC,EAAa7G,GAAGuE,SAAS,SAASoC,GAC9D,GAAIjG,GAAe,KACnB,IAAI+I,KACJ,IAAIQ,KACJ,IAAIC,GAA6B1K,KAAKE,SAASyK,8BAE/C3K,MAAKkB,aAAe,KACpBiG,GAAK1D,QAAQ,SAAUmH,GACtB,GAAIC,IACHT,QAASQ,EAAavI,KACtB0H,MAAOa,EAAa5I,GACpBqI,SAAUO,EAAa5I,IAAMhC,KAAKe,WAGnCkJ,GAAapI,KAAKgJ,EAElB,IAAIC,GAAqBtK,GAAGuK,MAAMF,EAClCJ,GAAqBA,KACrBG,GAAaI,sBAAwBJ,EAAaI,yBAClDJ,GAAaI,sBAAsBvH,QAAQ,SAAUwH,GACpDR,EAAmBQ,GAAeR,EAAmBQ,MACrD,IAAIjL,KAAKe,WACT,CACC+J,EAAmBT,SAAWS,EAAmBf,OAAS/J,KAAKe,WAAWkK,GAE3ER,EAAmBQ,GAAapJ,KAAKiJ,IACnC9K,OACDA,KAEH,KAAK0K,EACL,CACC,GAAIQ,GAAuB,KAC3B,KAAK,GAAID,KAAeR,GACxB,CACC,GAAIjH,GAAYxD,KAAKkC,QAAQQ,SAASyI,OAAO,SAAUzI,GAAY,MAAOA,GAASoB,MAAQmH,GAC3F,KAAKzH,EAAU,GACf,CACC,SAGDxD,KAAKsK,oBAAoB9G,EAAU,GAAGN,KAAMuH,EAAmBQ,GAE/D,IAAIG,GAAWX,EAAmBQ,GAAavJ,OAAS,CACxD,IAAI2J,GAAmBZ,EAAmBQ,GAAaE,OAAO,SAASG,GAAM,MAAOA,GAAKjB,WAAW3I,OAAS,CAE7G8B,GAAU,GAAGL,QAAQgB,QAAUkH,CAC/B7H,GAAU,GAAGN,KAAKe,UAAYoH,CAG9B,IAAIA,EAAkBH,EAAuB,IAC7C,IAAIE,EAAUlK,EAAe,KAG9B,IAAKgK,EACL,CACClL,KAAKkC,QAAQQ,SAASe,QAAQ,SAAUf,GACvCA,EAASS,QAAQgB,QAAU,YAM9B,CACC,GAAIT,GAAe1D,KAAKkC,QAAQQ,SAAS,GAAGQ,IAC5ClD,MAAKsK,oBACJ5G,EACAuG,EAGD,IAAIvG,EAAaQ,QAAQxC,OAAS,EAAGR,EAAe,KAGrDlB,KAAKkB,aAAeA,CACpBlB,MAAKwK,yBACLxK,MAAK+D,OAAO8F,YAAY,OAEtB7J,QAEJwK,wBAAyB,WAExBxK,KAAKkC,QAAQS,cAAc8C,MAAMC,QAAU1F,KAAKkB,aAAe,OAAS,IAEzEoJ,oBAAqB,SAASpH,EAAMqI,GAEnCA,EAAQA,KACRrI,GAAKuD,UAAY,EAEjB8E,GAAM9H,QAAQ,SAAS6H,GACtB,IAAIA,IAASA,EAAKlB,QAClB,CACC,OAGD,GAAIoB,GAASC,SAASC,cAAc,SACpCF,GAAOzB,MAAQuB,EAAKvB,KACpByB,GAAOnB,WAAaiB,EAAKjB,QACzBmB,GAAO3F,UAAYyF,EAAKlB,OACxBlH,GAAK2D,YAAY2E"}