{"version":3,"file":"script.min.js","sources":["script.js"],"names":["BX","CrmQuoteShowInitScript","settings","enableInstantEdit","messages","CrmInstantEditorMessages","editButtonTitle","lockButtonTitle","instantEditor","CrmInstantEditor","create","containerID","ownerType","ownerID","parseInt","url","callToFormat","setFieldReadOnly","prodEditor","CrmProductEditor","getDefault","handleProductRowChange","haveProducts","getProductCount","handleSelectProductEditorTab","objForm","objFormName","tabID","tabElement","productRowsTabId","length","onCustomEvent","addCustomEvent","ttl","setFieldValue","isViewMode","riseSaveFieldValueEvent","filesFieldContainer","FilesFieldContainer","CrmQuoteStorageType","undefined","file","webdav","diskfiles","CrmQuoteMode","edit","view","this","random","Math","toString","substring","controlMode","container","storageTypeId","getSetting","isNaN","getDefaultStorageTypeId","uploaderName","setSetting","prepareWebDavUploader","files","prepareDiskUploader","prepareFileUploader","prototype","name","defaultval","val","getMessage","getDialogElements","form","document","forms","elements","mode","vals","type","isNotEmptyString","uploader","CrmWebDavUploader","items","cleanLayout","urlSelect","urlUpload","urlShow","elementInfoLoader","delegate","getWebDavElementInfo","msg","loading","file_exists","access_denied","title","attachFile","dragFile","selectFile","selectFromLib","loadFiles","setMode","setValues","layout","CrmDiskUploader","diskAttachedFiles","controlId","CFileInput","Items","setFiles","style","display","elementId","callback","ajax","method","dataType","data","ACTION","ELEMENT_ID","onsuccess","innerData","isFunction","e","onfailure","getWebDavUploaderValues","result","getValues","i","push","getDiskUploaderValues","getFileIds","getFileUploaderValues","isElementNode","value","isArray","onSaveHandler","inputContainer","CID","arr","findChildren","tag","attr","Array","match","remove","appendChild","attrs","CrmQuoteViewForm","_id","_settings","_messages","_printUrl","_downloadPdfUrl","_createPdfFileUrl","_printTemplates","_printDlg","_isCreatePdfRequestRunning","initialize","id","printUrl","downloadPdfUrl","createPdfFileUrl","printTemplates","window","_onPrint","_onDownloadPdf","_onSendByEmail","hasOwnProperty","getId","sender","params","alert","isPlainObject","blank","isBoolean","handler","CrmQuotePrintHandler","urlTemplate","openNewWindow","_openPrintDialog","print","CrmQuoteSendByEmailHandler","entityId","activityEditorId","communications","createEmail","templates","CrmQuotePrintDialog","onClose","_onPrintDialogClose","open","dlg","bid","buttons","getData","templateId","process","addUrlParams","isString","param","indexOf","self","_urlTemplate","jsUtils","OpenWindow","Redirect","_entityId","_activityEditorId","_communications","_title","_isRequestRunning","_beginCreatePdfFileRequest","paySystemId","QUOTE_ID","PAY_SYSTEM_ID","MODE","GET_CONTENT","pdf","sessid","bitrix_sessid","showWait","_onCreatePdfFileRequestSuccess","_onCreatePdfFileRequestFailure","closeWait","debug","emailSettings","CrmActivityStorageType","disk","comms","commItem","entityType","entityTitle","CrmActivityEditor","addEmail","_data","_isOpened","_popup","_templateSelect","_onCloseCallback","isOpened","PopupWindow","autoHide","draggable","offsetLeft","offsetTop","bindOptions","forceBindPosition","closeByEsc","titleBar","content","_prepareContent","events","onPopupShow","_onPopupShow","onPopupClose","_onPopupClose","onPopupDestroy","_onPopupDestroy","_prepareButtons","show","tab","className","cellSpacing","cellPadding","border","select","selectItems","selectItem","option","props","text","browser","isIE","add","options","row","insertRow","cell","insertCell","children","printButton","PopupWindowButton","click","_onPrintButtonClick","cancelButton","PopupWindowButtonLink","_onCancelButtonClick","close","cancel","destroy"],"mappings":"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"}