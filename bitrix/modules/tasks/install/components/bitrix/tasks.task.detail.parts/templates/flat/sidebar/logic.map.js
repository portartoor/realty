{"version":3,"file":"logic.min.js","sources":["logic.js"],"names":["BX","namespace","Tasks","Component","TaskViewSidebar","parameters","this","layout","taskId","messages","workingTime","start","hours","minutes","end","can","allowTimeTracking","user","isAmAuditor","iAmAuditor","auditorCtrl","pathToTasks","initDeadline","initReminder","initMark","initTime","initTags","initAuditorThing","addCustomEvent","window","delegate","onTaskEvent","prototype","EDIT","Util","Dispatcher","find","then","ctrl","bindControl","onToggleImAuditor","bind","confirm","message","syncAuditor","id","query","Query","run","result","isSuccess","entityType","deleteItem","addItem","setHeaderButtonLabelText","data","getData","READ","document","location","reload","execute","type","task","ID","isNotEmptyString","REAL_STATUS","STATUS_CHANGED_DATE","setStatus","status","time","statusName","statusDate","innerHTML","util","htmlspecialchars","deadline","deadlineClear","proxy","onDeadlineClick","clearDeadline","event","now","Date","today","UTC","getFullYear","getMonth","getDate","calendar","node","field","form","bTime","value","bHideTimebar","callback_after","setDeadline","ValueToString","date","format","convertBitrixFormat","replace","style","display","updateDeadline","emptyDeadline","add","DEADLINE","onCustomEvent","fireGlobalTaskEvent","STAY_AT_PAGE","addReminder","reminderAdd","mark","onMarkClick","TaskGradePopup","show","listValue","events","onPopupChange","onMarkChange","popup","proxy_context","className","toLowerCase","listItem","name","MARK","bindEvent","onTaskTimerTick","formatTimeAmount","saveTags","tags","tagsString","i","length","TAGS","call"],"mappings":"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"}