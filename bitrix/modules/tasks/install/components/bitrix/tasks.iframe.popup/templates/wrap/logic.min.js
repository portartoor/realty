"use strict";BX.namespace("Tasks.Component");(function(){if(typeof BX.Tasks.Component.IframePopup!="undefined"){return}BX.Tasks.Component.IframePopup={};BX.Tasks.Component.IframePopup.SideSlider=BX.Tasks.Component.extend({sys:{code:"iframe-popup-side-slider"},methods:{bindEvents:function(){BX.addCustomEvent(window,"tasksTaskEvent",this.onTaskGlobalEvent.bind(this));window.document.addEventListener("click",this.handleClick.bind(this),true);BX.bindDelegate(this.scope(),"click",{className:"js-id-copy-page-url"},this.onCopyUrl.bind(this))},onCopyUrl:function(e){e=e||window.event;this.onCopyUrlByNode(e.target,this.getWindowHref())},onCopyUrlByNode:function(e,t){this.timeoutIds=this.timeoutIds||[];if(!BX.clipboard.copy(t)){return}var n={content:BX.message("TASKS_TIP_TEMPLATE_LINK_COPIED"),darkMode:true,autoHide:true,zIndex:1e3,angle:true,offsetLeft:20,bindOptions:{position:"top"}};var o=new BX.PopupWindow("tasks_clipboard_copy",e,n);o.show();var i;while(i=this.timeoutIds.pop())clearTimeout(i);i=setTimeout(function(){o.close()},1500);this.timeoutIds.push(i)},getWindowHref:function(){return BX.util.remove_url_param(window.location.href,["IFRAME","IFRAME_TYPE"])},getParentSlider:function(){try{return window.top.BX.Bitrix24.PageSlider}catch(e){}return null},handleClick:function(e){e=e||window.event;var t=this.getParentSlider();if(t){t.handleClick(e)}},onTaskGlobalEvent:function(e,t){if(BX.type.isNotEmptyString(e)){t=t||{};if(!t.options.STAY_AT_PAGE){window.top.BX.onCustomEvent("BX.Bitrix24.PageSlider:close",[false])}}}}})}).call(this);
//# sourceMappingURL=logic.map.js