{"version":3,"file":"logic.min.js","sources":["logic.js"],"names":["BX","namespace","Tasks","Component","Task","Util","Widget","extend","options","removeTemplates","registerDispatcher","data","constants","PRIORITY_AVERAGE","PRIORITY_HIGH","sys","code","methods","construct","this","callConstruct","instances","calendar","query","helpWindow","fireTaskEvent","option","bindEvents","initResponsible","initOriginator","initAuditor","initAccomplice","initParentTask","initRelatedTask","initProject","initReminder","initProjectDependence","initProjectPlan","initState","doSomeTricks","getUser","USER","restrictMemberSelectors","responsible","originator","canChangeOriginator","getTaskActions","EDIT","readonly","isEditMode","ROLES","ORIGINATOR","bindEvent","delegate","restrictOriginator","items","restrictMultipleResponsibles","length","value","user","DATA","values","valueOrig","valueResp","ID","replaceItem","way","hasClass","control","toggleBlock","disableHints","hintManager","disableSeveral","HINT_STATE","eType","EVENT_TYPE","toString","toUpperCase","task","EVENT_TASK","uglyTask","EVENT_TASK_UGLY","fireGlobalTaskEvent","EVENT_OPTIONS","replaceCmdBtn","IS_SUPER_USER","cb","checked","removeClass","browser","IsMac","cmd","innerHTML","bindEditorEvents","editor","handler","addCustomEvent","setFocusOnTitle","setTimeout","input","Focus","focus","selectionStart","bind","EDIT_MODE","ready","onFormKeyDown","document","editorId","BXHtmlEditor","Get","window","eventEditor","id","bindDelegateControl","passCtx","onToggleBlock","onToggleFlag","onChooseBlock","onToggleAdditionalBlock","onPriorityChange","onPinFooterClick","bindControl","onCancelButtonClick","onWorktimeChange","onForumSubmit","onSubmitClick","bindNestedControls","bindSliderEvents","bindHelp","getDispatcher","processToggleFlag","setEditorBeforeUnloadEvent","flag","AllowBeforeUnloadHandler","DenyBeforeUnloadHandler","getTaskData","TASK","ACTION","inst","Dispatcher","get","assignCalendar","getCalendar","load","SE_PROJECTDEPENDENCE","projectPlan","Shared","Form","ProjectPlan","scope","parent","matchWorkTime","MATCH_WORK_TIME","stamp","fireEvent","ctrlName","project","GroupItemSet","min","max","itemFx","itemFxHoverDelete","parseInt","SE_PROJECT","parameters","nameTemplate","NAME_TEMPLATE","useAdd","MODULES","mail","opts","template","selector","UserItemSet","onResponsibleChange","SE_RESPONSIBLE","onOriginatorChange","SE_ORIGINATOR","selectorCode","SE_ACCOMPLICE","SE_AUDITOR","TaskItemSet","SE_PARENTTASK","SE_RELATEDTASK","reminder","SE_REMINDER","setTaskId","setTaskDeadLine","DEADLINE","vars","state","clone","redrawState","pinned","FLAGS","FORM_FOOTER_PIN","footer","setState","node","type","isElementNode","csrf","bitrix_sessid","submitting","e","PreventDefault","addClass","submit","event","prevent","isEnter","ctrlKey","metaKey","chosenContainer","unChosenContainer","target","isNotEmptyString","blockName","stateBlock","C","toPin","to","from","fadeSlideToggleByClass","append","toggleClass","opened","find","then","ctrl","count","openForm","duration","toggleOption","getOptionNode","switchOption","disabled","toLowerCase","replace","flagNode","flagName","name","panel","toggleDateParameters","userMatch","optionLabel","message","itemFirst","getItemFirst","realRespControl","showDisposable","hide","STAY_AT_PAGE","setMatchWorkTime","Calendar","adaptSettings","COMPANY_WORKTIME","getState","actionName","allowed","ALLOW_TIME_TRACKING","TASK_CONTROL","ALLOW_CHANGE_DEADLINE","submitState","Query","url","COMPONENTURL","autoExec","autoExecDelay","st","fp","add","container","html","bName","chosen","getHTMLByTemplate","NAME","TYPE","VALUE","fName","onSearchBlurred","callMethod","restoreKept","toDelete","addItem","checkRestrictions","onSelectorItemSelected","extractItemValue","hasItem","close","resetInput","openAddForm","keepValue","first","deleteItem","arguments","extractItemDisplay","util","htmlspecialcharsback","nameFormatted","getNSMode","PopupItemSet","DISPLAY","TITLE","bindFormEvents","itemsChanged","selectorCtrl","searchInput","taskId","isNumber","isString","unselect","call"],"mappings":"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"}