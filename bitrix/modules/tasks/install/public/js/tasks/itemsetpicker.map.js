{"version":3,"file":"itemsetpicker.min.js","sources":["itemsetpicker.js"],"names":["BX","namespace","Tasks","UserItemSet","Util","ItemSet","extend","sys","code","options","nameTemplate","useSearch","useAdd","mode","prefixId","popupOffsetTop","popupOffsetLeft","methods","construct","this","instances","selector","Integration","Socialnetwork","NetworkSelector","scope","id","getRandomHash","getNSMode","query","getQuery","option","controlBind","parent","callConstruct","vars","intendOpen","initialized","changed","showLoader","delay","bindEvents","callMethod","bindEvent","delegate","onClose","onSelectorInitialized","onSelectorItemSelected","onSelectorItemDeselected","filterFocusBlur","control","onSearchBlurred","setCSSFlag","hideLoader","cancel","dropCSSFlag","openAddForm","searchPopupOpen","data","value","extractItemValue","hasItem","checkCanAddItems","itemLast","getItemLast","replaceItem","addItem","close","resetInput","deleteItem","arguments","deselectItem","checkIsOpened","toggleSearchOff","initializeSelector","search","focus","initialize","type","isElementNode","open","extractItemDisplay","DISPLAY","nameFormatted","util","htmlspecialcharsback","entityType","formatted","formatName","LOGIN","login","NAME","TITLE","ID","email","hashCode","networkId","ENTITY_TYPE","prepareData","WORK_POSITION","description","AVATAR","avatar","name","LAST_NAME","lastName","EMAIL","IS_EMAIL_USER","IS_EXTRANET_USER","extranet","IS_NETWORK_USER","network","typeSet","USER_TYPE","push","ENTITY_TYPE_CODE","TYPE_SET","join","URL","path","toString","replace","parseInt","GroupItemSet","PopupItemSet","formShownBefore","blockSelectorEvent","temporalItems","window","getSelector","then","PopupWindowManager","create","getFullBxId","getPopupAttachTo","autoHide","closeByEsc","content","getPickerContainer","buttons","getPopupButtons","show","bindFormEvents","setFocus","bind","debug","p","Promise","resolve","btnDesc","getPopupButtonsDescription","k","btnClass","PopupWindowButton","PopupWindowButtonLink","text","className","events","click","action","message","applySelectionChange","discardSelectionChange","itemsChanged","list","getSelectionDelta","added","deleted","items","delta","redraw"],"mappings":"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"}