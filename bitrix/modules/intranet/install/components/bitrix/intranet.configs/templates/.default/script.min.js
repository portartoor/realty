BX.namespace("BX.Bitrix24.Configs");BX.Bitrix24.Configs.LogoClass=function(){var e=function(e){this.ajaxPath=e};e.prototype.LogoChange=function(){BX("config-wait").style.display="inline-block";BX.ajax.submit(BX("configLogoPostForm"),function(e){try{var t=JSON.parse(e);if(t.error){BX("config_error_block").style.display="block";var i=BX.findChild(BX("config_error_block"),{"class":"content-edit-form-notice-text"},true,false);i.innerHTML="<span class='content-edit-form-notice-icon'></span>"+t.error}else if(t.path){BX("config_error_block").style.display="none";BX("logo_24_text").style.display="none";BX("logo_24_img").src=t.path;BX("logo_24_img").style.display="block";BX("config_logo_img").src=t.path;BX("config_logo_img_div").style.display="inline-block";BX("config_logo_delete_link").style.display="inline-block"}BX("config-wait").style.display="none"}catch(r){BX("config-wait").style.display="none";return false}})};e.prototype.LogoDelete=function(e){if(confirm(BX.message("LogoDeleteConfirm"))){BX("config-wait").style.display="inline-block";BX.ajax.post(this.ajaxPath,{client_delete_logo:"Y",sessid:BX.bitrix_sessid()},function(t){BX("logo_24_img").src="";BX("logo_24_img").style.display="none";BX("logo_24_text").style.display="block";BX("config_logo_img_div").style.display="none";e.style.display="none";BX("config_error_block").style.display="none";BX("config-wait").style.display="none"})}};return e}();BX.Bitrix24.Configs.LiveFeedRightClass=function(){var e=function(e){this.arToAllRights=e};e.prototype.DeleteToAllAccessRow=function(e){var t=BX("RIGHTS_div",true);var i=BX.findParent(e,{tag:"div",className:"toall-right"},t);if(i)var r=i.getAttribute("data-bx-right");if(i&&r){BX.remove(i);var s=[];for(var o=0;o<this.arToAllRights.length;o++)if(this.arToAllRights[o]!=r)s[s.length]=this.arToAllRights[o];this.arToAllRights=BX.clone(s);var a=BX("livefeed_toall_rights_"+r);if(a)BX.remove(a)}return false};e.prototype.ShowToAllAccessPopup=function(e){var t=this;e=e||[];BX.Access.Init({other:{disabled:false,disabled_g2:true,disabled_cr:true},groups:{disabled:true},socnetgroups:{disabled:true}});var i={};for(var r=0;r<e.length;r++)i[e[r]]=true;BX.Access.SetSelected(i);BX.Access.ShowForm({callback:function(e){var i=BX("RIGHTS_div",true);var r=false;for(var s in e){r=BX.Access.GetProviderName(s);for(var o in e[s]){i.appendChild(BX.create("div",{attrs:{"data-bx-right":o},props:{className:"toall-right"},children:[BX.create("span",{html:(r.length>0?r+": ":"")+e[s][o].name+"&nbsp;"}),BX.create("a",{attrs:{href:"javascript:void(0);",title:BX.message("SLToAllDel")},props:{className:"access-delete"},events:{click:function(){t.DeleteToAllAccessRow(this)}}})]}));BX("configPostForm").appendChild(BX.create("input",{attrs:{type:"hidden"},props:{name:"livefeed_toall_rights[]",id:"livefeed_toall_rights_"+o,value:o}}));t.arToAllRights[t.arToAllRights.length]=e[s][o].id}}}});return false};return e}();BX.Bitrix24.Configs.ImGeneralChatClass=function(){var e=function(e){this.arToAllRights=e};e.prototype.DeleteToAllAccessRow=function(e){var t=BX("chat_RIGHTS_div",true);var i=BX.findParent(e,{tag:"div",className:"toall-right"},t);if(i)var r=i.getAttribute("data-bx-right");if(i&&r){BX.remove(i);var s=[];for(var o=0;o<this.arToAllRights.length;o++)if(this.arToAllRights[o]!=r)s[s.length]=this.arToAllRights[o];this.arToAllRights=BX.clone(s);var a=BX("imchat_toall_rights_"+r);if(a)BX.remove(a)}return false};e.prototype.ShowToAllAccessPopup=function(e){var t=this;e=e||[];BX.Access.Init({other:{disabled:false,disabled_g2:true,disabled_cr:true},groups:{disabled:true},socnetgroups:{disabled:true}});var i={};for(var r=0;r<e.length;r++)i[e[r]]=true;BX.Access.SetSelected(i);BX.Access.ShowForm({callback:function(e){var i=BX("chat_RIGHTS_div",true);var r=false;for(var s in e){r=BX.Access.GetProviderName(s);for(var o in e[s]){i.appendChild(BX.create("div",{attrs:{"data-bx-right":o},props:{className:"toall-right"},children:[BX.create("span",{html:(r.length>0?r+": ":"")+e[s][o].name+"&nbsp;"}),BX.create("a",{attrs:{href:"javascript:void(0);",title:BX.message("SLToAllDel")},props:{className:"access-delete"},events:{click:function(){t.DeleteToAllAccessRow(this)}}})]}));BX("configPostForm").appendChild(BX.create("input",{attrs:{type:"hidden"},props:{name:"imchat_toall_rights[]",id:"imchat_toall_rights_"+o,value:o}}));t.arToAllRights[t.arToAllRights.length]=e[s][o].id}}}});return false};return e}();BX.Bitrix24.Configs.IpSettingsClass=function(){var e=function(e){this.arCurIpRights=e};e.prototype.DeleteIpAccessRow=function(e){var t=e.parentNode.parentNode;BX.remove(e.parentNode);var i=BX.findChildren(t,{tagName:"div"},true);if(i.length<=0){var r=t.parentNode.getAttribute("data-bx-right");var s=[];for(var o=0;o<this.arCurIpRights.length;o++)if(this.arCurIpRights[o]!=r)s.push(this.arCurIpRights[o]);this.arCurIpRights=s;BX.remove(t.parentNode)}return false};e.prototype.ShowIpAccessPopup=function(e){var t=this;e=e||[];BX.Access.Init({other:{disabled:false,disabled_g2:true,disabled_cr:true},groups:{disabled:true},socnetgroups:{disabled:true}});var i={};for(var r=0;r<e.length;r++)i[e[r]]=true;BX.Access.SetSelected(i);BX.Access.ShowForm({callback:function(e){var i=false;for(var r in e){i=BX.Access.GetProviderName(r);for(var s in e[r]){var o=BX.create("tr",{attrs:{"data-bx-right":s},children:[BX.create("td",{html:(i.length>0?i+": ":"")+e[r][s].name+"&nbsp;",props:{className:"content-edit-form-field-name"}}),BX.create("td",{props:{className:"content-edit-form-field-input",colspan:2},children:[BX.create("div",{children:[BX.create("input",{attrs:{type:"text",name:"ip_access_rights_"+s+"[]",size:"30"},props:{},events:{click:function(){t.addInputForIp(this)}}}),BX.create("a",{attrs:{href:"javascript:void(0);",title:BX.message("SLToAllDel")},props:{className:"access-delete"},events:{click:function(){t.DeleteIpAccessRow(this)}}})]})]})]});BX("ip_add_right_button").parentNode.insertBefore(o,BX("ip_add_right_button"));t.arCurIpRights.push(s)}}}});return false};e.prototype.addInputForIp=function(e){var t=this;var i=e.parentNode;if(BX.nextSibling(i))return;var r=BX.clone(i);var s=BX.firstChild(r);s.value="";s.onclick=function(){t.addInputForIp(this)};BX.nextSibling(s).onclick=function(){t.DeleteIpAccessRow(this)};i.parentNode.appendChild(r)};return e}();BX.Bitrix24.Configs.Functions={otpSwitchOffInfo:function(e){if(!e.checked){BX.PopupWindowManager.create("otpSwitchOffInfo",e,{autoHide:true,offsetLeft:-100,offsetTop:15,overlay:false,draggable:{restrict:true},closeByEsc:true,closeIcon:{right:"12px",top:"10px"},content:'<div style="padding: 15px; width: 300px; font-size: 13px">'+BX.message("CONFIG_OTP_SECURITY_SWITCH_OFF_INFO")+"</div>"}).show()}},adminOtpIsRequiredInfo:function(e){BX.PopupWindowManager.create("adminOtpIsRequiredInfo",e,{autoHide:true,offsetLeft:-100,offsetTop:15,overlay:false,draggable:{restrict:true},closeByEsc:true,closeIcon:{right:"12px",top:"10px"},content:'<div style="padding: 15px; width: 300px; font-size: 13px">'+BX.message("CONFIG_OTP_ADMIN_IS_REQUIRED_INFO")+"</div>"}).show()}};
//# sourceMappingURL=script.map.js