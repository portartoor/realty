{"version":3,"file":"script.min.js","sources":["script.js"],"names":["BX","CrmCallEditor","this","_id","_settings","_prefix","_dispatcher","_enityId","_contextId","_ownerId","_ownerType","_ownerIdElem","_ownerTypeElem","_ownerTitleElem","_responsibleIdElem","_responsibleNameElem","_startTime","_startTimeText","_communicationWrapper","_addCommunicationButton","_enableNotificationElem","_notifyValueElem","_isInCommunicationChangeMode","_isInDealChangeMode","_isInResponsibleChangeMode","_canChangeOwner","_communicationChangeCompleteHandler","delegate","_onExternalCommunicationChange","_dealChangeCompleteHandler","_onExternalDealChange","_communication","_syncData","_deletionHandler","_onDeleteButtonClick","_onDealSelectEventName","prototype","initialize","id","settings","getSetting","parseInt","resolveElement","bind","findParent","className","_onStartTimeClick","_onAddCommunicationButtonClick","model","getModelById","communicationData","getDataParam","length","_setupCommunicationData","container","findChild","_onOwnerClick","_onResponsibleClick","addCustomEvent","window","_onAfterPageOpen","getId","name","defaultVal","hasOwnProperty","prepareElementId","toLowerCase","getFieldValue","fieldName","elem","value","getEntityId","getContextId","getCommunicationType","getOwnerId","getOwnerType","canChangeOwner","getMessage","m","messages","type","isNotEmptyString","processCommunicationDeletion","communication","cleanLayout","createSaveHandler","_onSave","entityId","ownerId","ownerType","data","ID","TYPE_ID","OWNER_ID","OWNER_TYPE","RESPONSIBLE_ID","START","SUBJECT","DESCRIPTION","checked","TYPE","VALUE","commData","getData","push","createEntity","CrmMobileContext","getCurrent","createCloseHandler","contextId","title","updateEntity","options","editor","parentContainer","CrmActivityCommunication","create","hasLayout","addCommunicationButtonWrapper","parentNode","removeChild","layout","appendChild","_synchronize","TITLE","ENTITY_ID","ENTITY_TYPE","CrmDealModel","typeName","innerHTML","util","htmlspecialchars","e","showDatePicker","date","getBrowserTimestamp","_onStartTimeChahge","val","timestamp","Date","parse","getServerTimestamp","f","message","convertBitrixFormat","CrmActivityEditorHelper","trimDateTimeString","format","url","open","cache","communicationType","_enableCommunicationChangeMode","PreventDefault","enable","removeCustomEvent","eventArgs","Mobile","Crm","loadPageModal","_enableDealChangeMode","openUserSelector","callback","_onExternalUserChange","multiple","okButtonTitle","cancelButtonTitle","userId","userName","users","key","user","self","CrmMeetingEditor","getCheckboxFieldValue","LOCATION","CrmEmailEditor","_addresserElem","_addresserNameElem","_addresserEmailElem","_fileWrapper","_isInAddresserChangeMode","_addresserChangeCompleteHandler","_onExternalUserEmailConfigChange","_communications","_storageElements","_initTimestamp","communicationContainer","i","_addCommunication","_onAddresserClick","splice","initializeFromExternalData","getPageParams","isNumber","sublectElem","descriptionElem","storageTypeId","CrmActivityStorageType","undefined","storageTypeElem","isArray","storageElements","_addStorageElement","FROM","j","storageElement","elementId","v","getValue","children","props","href","text","tagName","style","display","_enableAddresserChangeMode","addresser","addresserName","addresserEmail","str","rx","ary","exec","result","substring","index","tailPos","_editor","_parentContainer","_container","_deleteButton","_data","_hasLayout","attrs","events","click","eventReturnFalse","unbind","cleanNode"],"mappings":"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"}