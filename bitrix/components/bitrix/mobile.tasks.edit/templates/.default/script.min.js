var taskEditTools={initialDate:false,formats:[],setFormats:function(t){this.formats=t},setInitialDate:function(t){var a=this.getDateFromArray(t.TO_CREATE);this.initialDate=BX.date.format(this.formats.internal.php,a);if(typeof t.CURRENT.year!="undefined"){var e=this.getDateFromArray(t.CURRENT);BX("DEADLINE").innerHTML=BX.date.format(this.getFormat(e),e)}else{BX("DEADLINE").innerHTML=BX.message("MB_TASKS_TASK_EDIT_BTN_SELECT")}},getDateFromArray:function(t){return new Date(t.year,parseInt(t.month)-1,t.day,t.hour,t.minute)},openDatePicker:function(){var t=this;try{app.showDatePicker({start_date:this.initialDate,format:this.formats.internal.js,type:"datetime",callback:function(a){var e=new Date(Date.parse(a));var r=t.getFormat(e);BX("DEADLINE").innerHTML=BX.date.format(r,e);BX("DEADLINE2SAVE").value=BX.date.format(t.formats.submit.php,e);t.initialDate=BX.date.format(t.formats.internal.php,e)}})}catch(a){}},getFormat:function(t){var a=new Date;var e=a.getFullYear();var r=t.getFullYear();if(e==r)return this.formats.display.noYear;else return this.formats.display.full}};
//# sourceMappingURL=script.map.js